# Terminology
## YDA

**Yamato Daiwa Automation**の省略名。
主に英語の資料で使われているが、日本語の資料では「やまとダイワ自動化」と日本語名でも表記する。
（2022年11月現在）徳川武の個人事業主屋号である「やまとダイワ」は、今後設立する法人名にも用いる。
法人化後の初期業務は、ウエブアプリケーションとネイティブアプリケーションの受注開発を専門とする予定。

## ファイル・コード種類
### ◇構造設計記法

英語・片仮名語表記の「[マークアップ](https://ja.wikipedia.org/wiki/%E3%83%9E%E3%83%BC%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E8%A8%80%E8%AA%9E)」に該当する。
**やまとダイワ自動化**内では、主に[Pug](https://pugjs.org/api/getting-started.html)で書かれたコードか、出力HTMLコードを指す。

> #### 「マークアップ」日本語考案者の解説
> 「構造設計」は建築物の設計で使われる用語で、建物の土台や骨組みなど、強度に直結する基本的な構造部分の設計を意味します。
> この言葉は、インターフェースの基本構造を決めるHTMLにもマッチすると考えました。

日本の文化を尊重するやまとダイワは、積極的な日本語（漢字語）の使用と普及を推進している。
英字や片仮名で表記される外来語を（可能な限り）日本語に置き換える他、現在では殆ど使われなくなった古い漢字も使っている。


### ◇意匠設計記法

英語・片仮名語表記の「[スタイル](https://ja.wikipedia.org/wiki/%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%B7%E3%83%BC%E3%83%88)」。

> #### 「意匠設計記法」日本語考案者の解説
> 徳川様がご提案された「外見設計」は、人の見た目を表す際にも使われる言葉で、「大雑把な見た目を表す軽いニュアンス」があります。
> 人工的な造形物のデザインを意味する「意匠」で「意匠設計」とするほうが、「外見設計」よりもカッチリした雰囲気になり、プロ開発者向けの専門用語にふさわしいと考えます。

やまとダイワでは「積極的な日本語の使用」を推進中。


### ◇挙動制御記法

英語・片仮名語表記の「[（命令）プログラミング言語](https://ja.wikipedia.org/wiki/%E5%91%BD%E4%BB%A4%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)」。

> #### 「挙動制御記法」日本語考案者の解説
> ⇒プログラミングの言い換え候補として「挙動制御」の語をお勧めします。 
> 「挙動」ではなく「動作」でも良いのですが、こちらのほうがより専門的な響きになり、なおかつプログラミング言語の役割である「振る舞い」に最もふさわしい表現です。
> 「制御」には「制して御する」の言葉通り、「意のままに操る」という意味があります。
> プログラミング言語は挙動を制御するための記法である、という解釈です。

やまとダイワでは「積極的な日本語の使用」を推進中。

**やまとダイワ自動化**にとって重要なのは、**ECMAScript制御記法**。
元コードは**TypeScript** で書かれるが、**ブラウザー専用JavaScript**、または**Node.js**に変換され、どちらにせよ**ECMAScript**に基づいている。


## 課題

プロジェクトの構成におけるコンピューター専用の仕事。
現在**やまとダイワ自動化**では、下記の課題に対応可能。

* 構造設計記法処理
* 意匠設計記法処理
* ECMAScript挙動制御記法処理
* 画像ファイル処理
* 活字ファイル処理
* オーディオファイル処理
* 動画ファイル処理
* ブラウザー自動リロード


## 作業順序

課題は作業の順序に沿って適切に並べられる。
正しい課題の並び順は、プロジェクトの正常稼働と計算リソースの最適化の両方に必要。


### プロジェクト構成モード

開発の際、元コードのファイルの保存直後にアプリケーションを自動的に再構成し、ブラウザーが自動的に再読み込みする機能は便利であるが、納品版を構成する時は此の様な機能は必要ない。
此の様な特性は、「プロジェクト構成モード」という概念を生んだ。
**やまとダイワ自動化**は下記のモードに対応している。

* 静的プレビュー
* ローカル開発
* 機能テスト
* ステージング
* 納品

**構成モード**と**環境**を同一視してはならない。例えば`IS_PRODUCTION`と言う変数が在るとしたら、其れが**構成モード**を参照しているのか、**環境**を参照しているのかは不明だ。
**構成モード**なら、`IS_PRODUCTION`の値はプロジェクト構成中に初期化され、構成されて以降値の変更は出来ない。
**環境変数**なら、アプリケーションが構成されてから起動される際に値を変えることが出来る

上記を考慮し、**やまとダイワ自動化**では**Pug**、**Stylus**、**TypeScript**用に次の変数を用意している。

| 構成モード   | 変数名                                      |
|---------|------------------------------------------|
| 静的プレビュー | \_\_IS_STATIC_PREVIEW_BUILDING_MODE__    |
| ローカル開発  | \_\_IS_LOCAL_DEVELOPMENT_BUILDING_MODE__ |
| 機能テスト   | \_\_IS_TESTING_BUILDING_MODE__           |
| ステージング  | \_\_IS_STAGING_BUILDING_MODE__           |
| 納品      | \_\_IS_PRODUCTION_BUILDING_MODE__        |


## 開始位置・子ファイル

英語・片仮名語表記の「エントリポイント」に該当するものであり、デザインパターンの名前。
詳細な意味はファイル類や技術に依って異なる。


### 構造設計記法に於いて

**構造設計記法**に於いては、各**開始位置**は完成したHTMLファイルを代表する。
基本的に単一のHTMLファイルを複数ファイルに別ける事は不可能だが、Pugの様なプリプロセッサの御蔭で、複数の「.pug」ファイルから単一のHTMLファイルを[構成出来る](https://pugjs.org/language/includes.html)。
此処で、親ファイル（**開始位置**）と**子ファイル**に区別される。
**開始位置**は**子ファイル**の中身と一緒にHTMLファイルにコンパイルされるが、**子ファイル**は単独でHTMLファイルにコンパイルされる事はない。


### 意匠設計記法に於いて

**意匠設計記法**に於いては、各**開始位置は**は完成したCSSファイルを代表する。
HTMLドキュメント１件当たりに複数の **CSSファイル**が置かれる事は、ウエブサイト・ウエブアプリに関係無く、現在・過去も関係無く、全く普通の手法である。
然し此の他に、複数のファイルから一つの **CSSファイル**を構成するやり方もあり、事実上此の二つのやり方が両立している。
（例えば、１件目のCSSファイルは共通のスタイルを含め、２件目のCSSファイルは特定ページのスタイルのみ含める。但し両方のCSSファイルが複数の元ファイルから構成された場合）
基本的に単一のCSSファイルを複数のファイルに別ける事は不可能だが、Stylusの様なプリプロセッサの御蔭で、複数の「.styl」ファイルから単一のCSSファイルを[構成出来る](https://stylus-lang.com/docs/import.html)。


### 挙動制御記法

**挙動制御記法**に於いては、各**開始位置**は完成したJavaScriptファイルを代表する。

#### クライアント側

クライアント側の場合、現代では1ページ当たりの**開始位置** は単一であるべきだ（違反は「アンチパターン」と呼ぶ）。
[Webpack](https://webpack.js.org)を使っている**やまとダイワ自動化**は、複数のファイルから**開始位置**を構成する事も出来るし、
最適化の為に[動的ロードされる子ファイルを生成する](https://webpack.js.org/guides/code-splitting/)事も可能。

シングルページアプリケーションの場合、アプリケーション当たりの**開始位置**は**１件**のみであるべきが、ウェブサイトの場合、各ページに特定の開始位置がある事は普通だ。

#### サーバ側

サーバ側にとって、**単一の開始位置**は特に強く推奨される開発パターンであり、此れに反するやり方はセキュリティの脆弱化に繋がると考えられる。


### 関連用語
#### 開始位置群

**やまとダイワ自動化**は**開始位置**を群毎に扱っているが、単一の開始位置群の扱いも可能だ。
特定の**開始位置群**に該当するファイルは特定のディレクトリ下に置くべきだが、**開始位置**と**子ファイル**が混在していても、**やまとダイワ自動化**なら判別のための設定が出来る。


#### 開始位置群参照

元コードに対しては、**開始位置**や複合媒体ファイルへのパスを指定する際に、絶対パス・相対パスの両方を使わない方が良い。
絶対パスだと、静的プレビューがローカルサーバを使わずに意匠設計ファイルや画像ファイル等を読み込まなくなる。相対パスの場合は、子ファイルによって同じファイルへのリンク先が異なる為、納品版では非推奨。

代わりに**開始位置群参照**を使ってパスを指定すれば、**やまとダイワ自動化**は構成モードに応じて、各ファイルに最適なパスを算出出来る。
**開始位置群参照**を使ったパスは「`@Pages/About/About`」といった感じになり、ファイル名の拡張子は自動的に判断され、日本語にも対応している。


## 素材

英語・片仮名語表記では「アセット」。主に、画像・音源・動画・文字といった素材を表す名称。


### 選択的実行

指定された課題と開始位置群のみを処理する事。
規定では全ての課題と開始位置群が実行されるが、選択的に実行する事も出来る。


## 「やまとダイワ自動化」以外でも使われる用語

### 省略絶対パス（shortened absolute path）

無[オリジン](https://developer.mozilla.org/ja/docs/Glossary/Origin)のURIであり、「/」から始まる。
例えば絶対パス「 http://example.com/app1/index.html 」の場合、省略形の絶対パスは「 /app1/index.html 」。
但しシステムは完全な絶対パスへの変換が可能でなくてはならない。


### 公開パス（public path）

サーバアプリケーションに於いて、無制限でアクセス出来るファイルが保管されているディレクトリであり、常に「public」と名付けられる。
例えば、URI「 http://example.com/app1/index.html 」の場合、「 index.html 」ファイルはサーバー上の
「＜サーバーアプリケーションディレクトリ＞/public/app1/index.html」で保管される可能性が高い。
