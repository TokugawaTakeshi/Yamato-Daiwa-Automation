<!DOCTYPE html><html lang="ru"><head><title>Валидация выходного HTML-кода - Yamato Daiwa Automation (YDA)</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Node.js-утилита для сборки проектов «Yamato Daiwa Automation» (сокращённо: «YDA», читается: «Уай-Ди-Эй») при работе с разметкой осуществляет валидацию HTML-кода c выводом результатов в консоль в реальном времени. В сравнении с уже существовавшими на момент релиза первых версий YDA Node.js-утилитами и их Gulp-адаптациями, валидация HTML-кода в YDA имеет улучшенное логирование о нарушениях валидности и хорошую оптимизацию производительности."><meta name="author" content="Copyright (c) 2023-present, Yamato Daiwa Co., Ltd."><link rel="icon" type="image/x-icon" href="/favicon--d5c43cedf8.ico"><link rel="shortcut icon" type="image/x-icon" href="/favicon--d5c43cedf8.ico"><link href="/styles/YDPD-Common--16fbed5ade.css" rel="stylesheet"><link href="/styles/layouts/TwoColumnsLayout--6f5f1c7df4.css" rel="stylesheet"><link href="/styles/YDPD-PreMades--5ee3696ccb.css" rel="stylesheet"><link href="/styles/CustomizedExternalComponents--ba0c92a306.css" rel="stylesheet"><script src="https://www.googletagmanager.com/gtag/js?id=G-Z0XY1S89E0" async></script><script>window.dataLayer = window.dataLayer || [];

function gtag(){
  dataLayer.push(arguments);
}

gtag("js", new Date());
gtag("config", "G-Z0XY1S89E0");</script></head><body><div class="TwoColumnsLayout"><div class="TwoColumnsLayout-UpperFixedContent"><header class="Header--YDPD TwoColumnsLayout-Header"><button class="HamburgerMenuButton--YDF Header--YDPD-HamburgerMenuButton" type="button"><svg class="HamburgerMenuButton--YDF-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 13.74"><path d="M0 0h20v3H0zM0 5.37h20v3H0zM0 10.74h20v3H0z"></path></svg><span class="HamburgerMenuButton--YDF-Label HamburgerMenuButton--YDF-Label__Uppercase">меню</span></button><a class="Header--YDPD-LogoAndTitleTypeLink" href="/Top/TopPage.russian.html"><img class="Header--YDPD-Logo" src="/images/Icons/YDA_Icon__White--ec915313e0.svg" alt="Иконка инструмента сборки проектов «Yamato Daiwa Automation» (сокращённо: «YDA»)."><div class="Header--YDPD-Title"><span class="Header--YDPD-Title-Company">Yamato Daiwa</span><span class="Header--YDPD-Title-LibraryName">Automation</span></div></a><div class="LanguageDropDownList--YDF_DK Header--YDPD-DropDownList" id="LANGUAGE_DROP_DOWN_LIST"><div class="LanguageDropDownList--YDF_DK-CurrentlySelectedOption" role="combobox" tabindex="0" aria-controls="LANGUAGE_DROP_DOWN_LIST-1-LIST_BOX" aria-expanded="false" aria-haspopup="listbox" aria-label="Выберете язык" id="LANGUAGE_DROP_DOWN_LIST-1-CURRENTLY_SELECTED_OPTION"><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="RUSSIAN_FLAG--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-CurrentlySelectedOption-Label">Русский</span></div><div class="LanguageDropDownList--YDF_DK-ListBox LanguageDropDownList--YDF_DK-ListBox__Hidden" role="listbox" tabindex="-1" aria-label="Выберете язык" id="LANGUAGE_DROP_DOWN_LIST-1-LIST_BOX"><div class="LanguageDropDownList--YDF_DK-ListBox-Item" role="option" aria-selected="false"><a href="./HTML_Validation.english.html"><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="FLAG_OF_UNITED_KINGDOM--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-ListBox-Item-Label">English</span></a></div><div class="LanguageDropDownList--YDF_DK-ListBox-Item" role="option" aria-selected="false"><a href="./HTML_Validation.japanese.html"><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="FLAG_OF_JAPAN--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-ListBox-Item-Label">日本語</span></a></div><div class="LanguageDropDownList--YDF_DK-ListBox-Item LanguageDropDownList--YDF_DK-ListBox-Item__Selected" role="option" aria-selected="true"><a><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="RUSSIAN_FLAG--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-ListBox-Item-Label">Русский</span></a></div><template class="LanguageDropDownList--YDF_DK-FlagsImagesHolder"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" id="FLAG_OF_JAPAN--SVG_IMAGE"><defs><clippath id="a"><path fill-opacity=".7" d="M-88 32h640v480H-88z"></path></clippath></defs><g fill-rule="evenodd" stroke-width="1pt" clip-path="url(#a)" transform="translate(88 -32)"><path fill="#fff" d="M-128 32h720v480h-720z"></path><circle cx="523.1" cy="344.1" r="194.9" fill="#bc002d" transform="translate(-168.4 8.6) scale(.76554)"></circle></g></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" id="RUSSIAN_FLAG--SVG_IMAGE"><g fill-rule="evenodd" stroke-width="1pt"><path fill="#fff" d="M0 0h640v480H0z"></path><path fill="#0039a6" d="M0 160h640v320H0z"></path><path fill="#d52b1e" d="M0 320h640v160H0z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" id="FLAG_OF_UNITED_KINGDOM--SVG_IMAGE"><path fill="#012169" d="M0 0h640v480H0z"></path><path fill="#FFF" d="m75 0 244 181L562 0h78v62L400 241l240 178v61h-80L320 301 81 480H0v-60l239-178L0 64V0h75z"></path><path fill="#C8102E" d="m424 281 216 159v40L369 281h55zm-184 20 6 35L54 480H0l240-179zM640 0v3L391 191l2-44L590 0h50zM0 0l239 176h-60L0 42V0z"></path><path fill="#FFF" d="M241 0v480h160V0H241zM0 160v160h640V160H0z"></path><path fill="#C8102E" d="M0 193v96h640v-96H0zM273 0v480h96V0h-96z"></path></svg></template></div></div></header></div><div class="TwoColumnsLayout-Sidebar"><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Top/TopPage.russian.html">Главная страница</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Terminology/Terminology.russian.html">Терминология</a></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Функциональность</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Обработка разметки</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Functionality/MarkupProcessing/BasicPugToHTML_Transpiling/BasicPugToHTML_Transpiling.russian.html">Базовый транспайлинг из Pug в HTML</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Functionality/MarkupProcessing/HTML_Validation/HTML_Validation.russian.html">Output HTML code validation</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Functionality/MarkupProcessing/ResourcesReferencesResolving/ResourcesReferencesResolving.russian.html">Resources references resolving</a></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Static preview</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="#">Pages state dependent variations</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="#">Mock Data</a></li></ul></li><li class="CompactTableOfContents--YDF_DK-Item"><span class="CompactTableOfContents--YDF_DK-Item-Title">Output as handlebars templates</span></li></ul></li></ul></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Настройки</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Configuration/MarkupProcessing/MarkupProcessingConfiguration.russian.html">Обработка разметки</a></li></ul></li></ul></div><main class="TwoColumnsLayout-SpecificContent"><article><h1 class="Article-Heading1">Валидация выходного HTML-кода</h1><p class="Article-Paragraph">Высококачественная веб-разработка подразумевает валидность HTML-кода, то есть его соответствие стандартам,
  установленным W3C.
Даже для опытных веб-разработчиков требование знания спецификаций W3C является невозможным, поэтому веб-разработку
  необходимо организовать так, чтобы разработчик узнавал о нарушениях по мере их допускания (поскольку это не
  нарушения закона, то такой подход приемлем).
К счастью, если просто писать HTML-код, используя тэги и аттрибуты с соответствии с их назначением, то большого
  количества нарушений не будет.
Главное — не допустить накопления большого количества нарушений, для чего их необходимо исправлять сразу же, как
  только они возникли.
Для этого нужно организовать валидацию HTML-кода в реальном времени, то есть при сохранении файла.

</p><h2 class="Article-Heading2">Что было до YDA</h2><p class="Article-Paragraph">Node.js-yтилиты для валидации HTML-кода, конечно же, существовали до YDA, например ... и их адаптации для Gulp.
Многие они работают по одинаковому принципу: читают HTML-файл, отправляют содержимое в сервис валидации
  а затем выводят результаты в консоль или в файлы.
Есть и оффлайн валидатор, однако его работа неэквивалента онлайн.
</p><p class="Article-Paragraph">Первая проблема состоит в том, чтобы обеспечить валидацию "на лету", когда HTML-код будет откомпилирован Pug-код,
  а не читать выходные HTML-файлы, причём отчёт выводить в консоль, а не в файлы.
Это не очень сложно, но при малом опыте работы с Gulp может вызывать проблемы и в любом случае заёмет время.
</p><p class="Article-Paragraph">Но наибольшая проблема — оптимизация.
Наличие нескольких десятков HTML-файлов в проекте - норма для средних и больших сайтов.
Если всё делать без оптимизации, то при каждой сборке проектов данные всех этих нескольких десятков файлов будут
  отправлены на сервис.
Поскольку у нас есть и другие таски, то они будут тормозить процесс обмена информацией с сервисом, и в итоге
  это может время проверки одного файла может занять 10 секунд и больше...
</p><p class="Article-Paragraph">Ещё больше проблем в режиме и инкрементальной сборки.
Во-первых, нужно организовать так, чтобы при сохранении одного исходного Pug-файла пересобирался только нужная
  страница... (это в свою очередь тригерит HTML-валидацию)
Во-вторых, если запросы будут отсылаться слишком часто, мы получим ошибку too much requests.

</p><h2 class="Article-Heading">Как работает валидация HTML-кода в YDA</h2><p class="Article-Paragraph">Валидация HTML интегрирована в общий процесс обработки файлов разметки, начинающийся с компиляции из Pug-в-HTML.
Соответственно, валидации подлежит именно выходной HTML-код.
</p><p class="Article-Paragraph">Так как YDA предназначена для высококаественной веб-разработки, то она активная по умолчанию.

</p><h3 class="Article-Heading3">В режимах с инкременательной сборкой</h3><p class="Article-Paragraph">Если файл новый, то не дожидаясь записи на диск HTML-файлов, откомпилированный из Pug в HTML код отправляется на
  сервис валидации ...
По умолчанию, сообщение о начале валидации и об её окончании не выводится в консоль, чтобы не перегружать
  разработчика информацией, но при желании вывод можно включить (см.).
Если же имеются нарушения, то вывод в консоль осуществляется незамедлительно для каждого файла независимо.
Форматирование реализовано в YDA, включает в себя улучшенную подсветку проблемного участка кода.
</p><p class="Article-Paragraph">Результаты валидации записываются в кэш, в файл YDA/Markup/...
Далее этот файл будет переиспользован при следующем запуске YDA.

</p><h3 class="Article-Heading3">На продакшен-подобных режимах</h3><p class="Article-Paragraph">Будучи предназначенным для высококачественной разработки, YDA не пропускает невалидный HTML-код на ... режимах сборки.
Основное отличие от режима инкрементальной сборки состоит в том, что при наличии ошибок будет выброшено искючение и сборка прекратится.
Чтобы не допустить этого, все ошибки валидности следует устранить на режиме локальной сборки.
</p><p class="Article-Paragraph">Зная основы психологии, мы никому не верим, что "да мы потом всё исправим".
Вы, конечно можете отключить валидацию HTML-кода, но это серьёзнейшая трещина в фундаменте.

</p><h2 class="Article-Heading">Отключение валидации выходного HTML-кода</h2><p class="Article-Paragraph">Как уже говорилось выше, отключение валидации выходного HTML категорически не рекомендуется, а основным
  решением проблемы наличия нарушение валидности HTML является исправление этих нарушений.
Если Вы отключаете валидацию HTML-кода, но при этом потенциально можете исправить ошибки, тем самым Вы отказываетесь
  соблюдать фундаментальные правила, установленные ..., которые не являются стилистическими разногласиями.
</p><p class="Article-Paragraph">Тем не менее, в следующих ситуациях отключение валидации HTML может быть оправдано.
</p><ul class="Article-UnorderedList"><li>Написание кода для каких-либо особых технологий, использующих HTML-код для написания разметки, но при этом
  допускающих расширенных синтаксис, например Electron.js.
</li><li>Принуждение к использованию стороннего Pug-кода в проекте, который нельзя править с силу каких-либо причин.</li></ul></article></main><div class="TwoColumnsLayout-BottomFixedContent"><footer class="Footer--YDPD TwoColumnsLayout-Footer"><p class="Footer--YDPD-Copyright">© 2023 Yamato Daiwa Co., Ltd</p></footer></div><div class="DrawerMenu--YDPD-Underlay DrawerMenu--YDPD-Underlay__HiddenState"><div class="DrawerMenu--YDPD-Body"><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Top/TopPage.russian.html">Главная страница</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Terminology/Terminology.russian.html">Терминология</a></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Функциональность</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Обработка разметки</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Functionality/MarkupProcessing/BasicPugToHTML_Transpiling/BasicPugToHTML_Transpiling.russian.html">Базовый транспайлинг из Pug в HTML</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Functionality/MarkupProcessing/HTML_Validation/HTML_Validation.russian.html">Output HTML code validation</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Functionality/MarkupProcessing/ResourcesReferencesResolving/ResourcesReferencesResolving.russian.html">Resources references resolving</a></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Static preview</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="#">Pages state dependent variations</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="#">Mock Data</a></li></ul></li><li class="CompactTableOfContents--YDF_DK-Item"><span class="CompactTableOfContents--YDF_DK-Item-Title">Output as handlebars templates</span></li></ul></li></ul></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Настройки</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Configuration/MarkupProcessing/MarkupProcessingConfiguration.russian.html">Обработка разметки</a></li></ul></li></ul></div><button class="ClosingButton--YDF ClosingButton--YDF__RegularDecorativeVariation DrawerMenu--YDPD-ClosingButton" type="button"><svg class="ClosingButton--YDF-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18 0H2a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V2a2 2 0 00-2-2zm-4 16l-4-4-4 4-2-2 4-4-4-4 2-2 4 4 4-4 2 2-4 4 4 4z"></path></svg><span class="ClosingButton--YDF-Label ClosingButton--YDF-Label__Uppercase">Закрыть</span></button></div></div><script src="/YDPD-Common--d288de5f9d.js"></script></body></html>